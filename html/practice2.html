<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Playlist</title>
<style>
    * {margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif;}
    body {
        background:#63bdfc;
        display:flex;
        justify-content:center;
        align-items:center;
        height:100vh;
        color:#111;
    }

    .player {
        display:flex;
        align-items:center;
        gap:60px;
    }

    .album {
        position:relative;
    }

    .cover {
        width:230px;
        height:230px;
        border-radius:20px;
        overflow:hidden;
        box-shadow:0 10px 20px rgba(0,0,0,0.2);
        position:relative;
        z-index:2;
    }
    .cover img {
        width:100%;
        height:100%;
        object-fit:cover;
    }

    .vinyl {
        position:absolute;
        right:-50px;
        top:50%;
        transform:translateY(-50%);
        width:220px;
        height:220px;
        background:radial-gradient(#222 40%, #000 70%);
        border-radius:50%;
        box-shadow:inset 0 0 10px rgba(0,0,0,0.5);
        z-index:1;
        animation:spin 4s linear infinite;
        animation-play-state:paused;
    }

    @keyframes spin {
        from {transform:translateY(-50%) rotate(0deg);}
        to {transform:translateY(-50%) rotate(360deg);}
    }

    .song-info {
        text-align:center;
        margin-top:20px;
    }
    .song-info h3 {
        font-weight:700;
        font-size:18px;
    }
    .song-info p {
        color:#333;
        font-size:14px;
    }

    .controls {
        display:flex;
        justify-content:center;
        gap:20px;
        margin-top:15px;
    }

    .controls button {
        border:none;
        background:#111;
        color:#fff;
        width:40px;
        height:40px;
        border-radius:50%;
        font-size:18px;
        cursor:pointer;
        transition:0.2s;
    }

    .controls button:hover {
        background:#333;
    }

    .playlist {
        width:300px;
        background:#111;
        border-radius:6px;
        overflow:hidden;
        color:#fff;
    }

    .playlist-header {
        display:flex;
        justify-content:space-between;
        padding:10px 15px;
        font-weight:700;
        background:#000;
    }

    .playlist table {
        width:100%;
        border-collapse:collapse;
    }

    .playlist tbody {
        display:block;
        max-height:200px;
        overflow-y:auto;
    }

    .playlist thead, .playlist tbody tr {
        display:table;
        width:100%;
        table-layout:fixed;
    }

    .playlist td {
        padding:8px 15px;
        border-bottom:1px solid rgba(255,255,255,0.2);
        font-size:14px;
    }

    .playlist tr.active {
        background:#63bdfc;
        color:#000;
        font-weight:700;
    }
</style>
</head>
<body>

<div class="player">
    <div class="album">
        <div class="cover">
            <img id="coverImg" src="https://i.imgur.com/qYzYfH9.jpeg" alt="album">
        </div>
        <div class="vinyl" id="vinyl"></div>

        <div class="song-info">
            <h3 id="title">DROWNING</h3>
            <p id="artist">WOODZ</p>
        </div>

        <div class="controls">
            <button id="prev">⏮</button>
            <button id="play">▶</button>
            <button id="next">⏭</button>
        </div>
    </div>

    <div class="playlist">
        <div class="playlist-header">
            <span>Title</span>
            <span>Artist</span>
            <span>Time</span>
        </div>
        <table>
            <tbody id="songList">
                <!-- JS에서 자동생성 -->
            </tbody>
        </table>
    </div>
</div>

<script>
const songs = [
    {title:"DROWNING", artist:"WOODZ", time:"04:02", src:"music1.mp3", img:"https://i.imgur.com/qYzYfH9.jpeg"},
    {title:"스탠바이, 스흔하나", artist:"자우림", time:"04:44", src:"music2.mp3", img:"https://i.imgur.com/1LJfC9k.jpeg"},
    {title:"스탠바이, 스흔하나", artist:"자우림", time:"04:44", src:"music3.mp3", img:"https://i.imgur.com/1LJfC9k.jpeg"},
    {title:"스탠바이, 스흔하나", artist:"자우림", time:"04:44", src:"music4.mp3", img:"https://i.imgur.com/1LJfC9k.jpeg"},
];

const songList = document.getElementById("songList");
const title = document.getElementById("title");
const artist = document.getElementById("artist");
const coverImg = document.getElementById("coverImg");
const playBtn = document.getElementById("play");
const prevBtn = document.getElementById("prev");
const nextBtn = document.getElementById("next");
const vinyl = document.getElementById("vinyl");

let currentIndex = 0;
let isPlaying = false;
const audio = new Audio(songs[currentIndex].src);

// 테이블 생성
songs.forEach((song, i)=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `<td>${song.title}</td><td>${song.artist}</td><td>${song.time}</td>`;
    tr.addEventListener("click", ()=> loadSong(i));
    songList.appendChild(tr);
});

function loadSong(index){
    currentIndex = index;
    const song = songs[index];
    title.textContent = song.title;
    artist.textContent = song.artist;
    coverImg.src = song.img;
    audio.src = song.src;
    document.querySelectorAll("#songList tr").forEach((el,i)=>{
        el.classList.toggle("active", i===index);
    });
    playSong();
}

function playSong(){
    isPlaying = true;
    audio.play();
    playBtn.textContent = "⏸";
    vinyl.style.animationPlayState = "running";
}

function pauseSong(){
    isPlaying = false;
    audio.pause();
    playBtn.textContent = "▶";
    vinyl.style.animationPlayState = "paused";
}

playBtn.addEventListener("click", ()=>{
    isPlaying ? pauseSong() : playSong();
});

prevBtn.addEventListener("click", ()=>{
    currentIndex = (currentIndex - 1 + songs.length) % songs.length;
    loadSong(currentIndex);
});

nextBtn.addEventListener("click", ()=>{
    currentIndex = (currentIndex + 1) % songs.length;
    loadSong(currentIndex);
});

// 기본 첫 곡 로드
loadSong(0);
</script>
</body>
</html>
